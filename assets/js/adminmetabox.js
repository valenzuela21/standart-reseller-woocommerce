(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{2:function(e,t,o){"use strict";var n=o(0),r=o(1),l=o.n(r);o(10);n.default.use(l.a);t.a=new l.a({})},52:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o(3),l=o.n(r),s=(o(6),{name:"App",data:()=>({dialog:!1,page:1,pageCount:0,itemsPerPage:5,headers:[{text:"ID",value:"id",width:100},{text:"Tendero",value:"title"},{text:"Opciones",value:"actions",width:100}],typereseller:"",desserts:[],shopping:[],editedIndex:-1,defaultItem:{id:0,title:""},loader:!1}),watch:{dialog(e){e||this.close()}},mounted(){this.consultShopping(),this.consultPostype()},methods:{deleteItem(e){const t=this.desserts.indexOf(e),o=this.get_post_id(),n=e.id;1==confirm("¿Deseas eliminar este tendero?")?l.a.post(this.urlDeleteReseller,{id:o,id_post:n}).then(e=>{console.log("Eliminando...")}).catch(e=>{console.log("Error en la consulta "+e)}).finally(()=>{this.desserts.splice(t,1),console.log("Se ha eliminado correctamente.")}):console.log("Cancelado la acción por el usuario")},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},addGeneral(){let e=this.typereseller;this.insertPostype(e),this.close()},consultPostype(){l.a.get(this.urlConsultSelectReseller).then(e=>{this.shopping=e.data}).catch(e=>{console.log("Error en la consulta "+e)}).finally(()=>{console.log("Se ha finalizado")})},insertPostype(e){let t=this.get_post_id();l.a.post(this.urlInsertNewReseller,{id:t,id_reseller:e}).then(e=>{console.log("Insertando..."),this.consultShopping()}).catch(e=>{console.log("Error al adjuntar nuevo dato.  "+e)}).finally(()=>{console.log("Se ha insertado correctamente")})},consultShopping(){let e=this.get_post_id();this.loader=!0,l.a.post(this.urlConsultResellerMetabox,{id:e}).then(e=>{this.desserts=e.data}).catch(e=>{console.log("Error al adjuntar nuevo dato.  "+e)}).finally(()=>{this.loader=!1,console.log("Consultando tiendas disponibles")})},get_post_id(){let e=window.location.href,t=e.indexOf("?post="),o=e.substr(t).split("&");return o=o[0].split("="),o=o[1],o}}}),i=o(5),a=Object(i.a)(s,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[o("v-main",{directives:[{name:"show",rawName:"v-show",value:!0===e.dialog,expression:"dialog === true"}]},[o("div",{staticClass:"shadow-modal"}),e._v(" "),o("v-col",{staticClass:"modal-add"},[o("span",{staticClass:"close_modal",on:{click:e.close}}),e._v(" "),o("v-container",{staticClass:"grey lighten-5"},[o("h3",{staticClass:"headline"},[e._v("Adjuntar Tienda")]),e._v(" "),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",{attrs:{sm:"8"}},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.typereseller,expression:"typereseller"}],staticStyle:{width:"100%"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.typereseller=t.target.multiple?o:o[0]}}},[o("option",{attrs:{selected:"",value:""}},[e._v("Seleccione la tienda")]),e._v(" "),e._l(e.shopping,(function(t){return o("option",{domProps:{value:t.id}},[e._v(e._s(t.title))])}))],2)]),e._v(" "),o("v-col",{attrs:{sm:"3"}},[o("v-btn",{staticClass:"btn-add",on:{click:e.addGeneral}},[e._v("Adjuntar")])],1)],1)],1)],1)],1),e._v(" "),o("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,page:e.page,"items-per-page":e.itemsPerPage,"hide-default-footer":""},on:{"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",[e._v("\n                    Mis Tenderos\n                ")]),e._v(" "),o("v-spacer"),e._v(" "),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",r,!1),n),[e._v("Agregar Tendero\n                        ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[o("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v("\n                mdi-delete\n            ")])]}}])}),e._v(" "),o("div",{staticClass:"text-center pt-2"},[o("v-pagination",{attrs:{length:e.pageCount},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.itemsPerPage,expression:"itemsPerPage"}],staticStyle:{margin:"auto",display:"block"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.itemsPerPage=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"5"}},[e._v(" Cantidad de Items ")]),e._v(" "),o("option",{attrs:{value:"10"}},[e._v(" 10 ")]),e._v(" "),o("option",{attrs:{value:"25"}},[e._v(" 25 ")]),e._v(" "),o("option",{attrs:{value:"50"}},[e._v(" 50 ")]),e._v(" "),o("option",{attrs:{value:"80"}},[e._v(" 80 ")]),e._v(" "),o("option",{attrs:{value:"100"}},[e._v(" 100 ")])])],1),e._v(" "),!0===e.loader?o("div",{staticClass:"loader-admin-table"},[o("div",{staticClass:"loader"},[o("div",{staticStyle:{display:"block"}},[o("div",{staticClass:"lds-ripple"},[o("div"),e._v(" "),o("div")]),e._v(" "),o("p",[e._v("Loader...")])])])]):e._e()],1)}),[],!1,null,null,null).exports,c=o(2);n.default.config.productionTip=!1,new n.default({el:"#vue-metaboxes-app",vuetify:c.a,render:e=>e(a)})},6:function(e,t,o){"use strict";var n=o(0);const r=window.location.hostname,l=window.location.protocol;let s,i,a,c,p,d,u,m,_,g,h,v,w,f,$,y=window.location.href,b=y.substr(y.indexOf("?post="));b=b.split("&"),b=b[0].split("="),"localhost"===r?(s=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_category_tendero.php`,i=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_general_tendero.php`,a=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_productos_reseller.php`,c=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_tendero.php`,_=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_category_product.php`,g=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_category_product_select.php`,h=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_search_product_category.php`,v=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/consult_reseller_products.php`,f=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/search_product.php`,$=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_product_variable.php`,p=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/delete_item_reseller.php`,d=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/consult_select_tendero.php`,u=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/insert_new_reseller.php`,m=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/consult_shopping_success.php`,w=`${l}//${r}:3000/tiendaubicacion/wp-content/plugins/master-tendero-woocommerce/includes/Api/delete_item_product_reseller.php`):(s=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_category_tendero.php`,i=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_general_tendero.php`,a=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_productos_reseller.php`,c=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_tendero.php`,_=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_category_product.php`,g=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_category_product_select.php`,h=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_search_product_category.php`,v=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/consult_reseller_products.php`,f=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/search_product.php`,$=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/frontend/consult_product_variable.php`,p=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/delete_item_reseller.php`,d=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/consult_select_tendero.php`,u=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/insert_new_reseller.php`,m=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/consult_shopping_success.php`,w=`${l}//${r}/wp-content/plugins/master-tendero-woocommerce/includes/Api/delete_item_product_reseller.php`),n.default.prototype.urlConsultCategory=s,n.default.prototype.urlConsultGeneral=i,n.default.prototype.urlConsultReseller=a,n.default.prototype.urlConsulTendero=c,n.default.prototype.urlCategoryProduct=_,n.default.prototype.urlSelectCategory=g,n.default.prototype.urlSearchCategory=h,n.default.prototype.urlSearchProducts=v,n.default.prototype.urlSearchGeneral=f,n.default.prototype.urlVariableProduct=$,n.default.prototype.urlDeleteReseller=p,n.default.prototype.urlConsultSelectReseller=d,n.default.prototype.urlInsertNewReseller=u,n.default.prototype.urlConsultResellerMetabox=m,n.default.prototype.urlDeleteProductReseller=w}},[[52,0,1]]]);